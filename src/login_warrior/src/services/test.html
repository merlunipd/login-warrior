<script type="module">
import * as DexieLibrary from "https://unpkg.com/dexie/dist/dexie.js";
    
export class IdexedDB /**extends Storage */{
    db;

    constructor() {
        this.db = new Dexie("DatabaseInfame");
        this.db.version(1).stores({Dataset: "++id, data" , Customization: "++id, data", Visualization: "++id, data"});
    }

    saveDataset(d){
        this.db.Dataset.put({data: d});
    }

    loadDataset(){
        const data = this.db.Dataset.toArray();
        return data;
    }

    saveCustomization(c){
        this.db.Customization.put({data: c});
    }

    loadCustomization(){
        const data = this.db.Customization.toArray();
        return data;
    }

    saveVisualizationIndex(index){
        this.db.Visualization.put({data: index});
    }

    loadVisualizationIndex(){
        const data = this.db.Visualization.toArray();
        return data;
    }
}

let a = new IdexedDB();
a.saveDataset("ciao1");
a.saveCustomization("ciao2");
a.saveVisualizationIndex("ciao3");
console.log(a.loadDataset());
</script>