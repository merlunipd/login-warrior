<script type="module">
import * as DexieLibrary from "https://unpkg.com/dexie/dist/dexie.js";

const testObject = {
    numbers: [1,2,3],
    string: "This is a test"
};

const db = new Dexie("MyDatabase");
db.version(1).stores({
    friends: "id, name"
});

/*await db.friends.add({
    id: "1",
    name: testObject
});*/

const trova = await db.friends.where("id").equals("1").first();
console.log(trova);


function getDataSync(){
    let ciao = await db.friends.where("id").equals("1").first();
    return ciao;
}
console.log(getDataSync());

async function getDataAsync(){
    let ciao = await db.friends.where("id").equals("1").first();
    return ciao;
}
console.log(getDataSync())
//const trova = db.friends.where("id").equals("1").first();
//console.log(trova.name);


/*
<script type="module">
import * as DexieLibrary from "https://unpkg.com/dexie/dist/dexie.js";
    
export class IdexedDB extends Storage {
    
    db;

    constructor() {
        this.db = new Dexie("DatabaseInfame");
        this.db.version(1).stores({Dataset: "id, data"});
    }

    async saveDataset(d){
        await this.db.Dataset.add(
            {id: 1,data: "o"});
    }

    async loadDataset(){
        let getdata = await this.db.Dataset.where("id").equals(1).first();
        return getdata;
    }

    saveCustomization(c){
        this.db.Customization.put({data: c});
    }

    loadCustomization(){
        let getdata = this.db.Customization.where("id").equals("1").first().id;
        return getdata
    }

    saveVisualizationIndex(index){
        this.db.Visualization.put({data: index});
    }

    loadVisualizationIndex(){
        const data = this.db.Visualization.toArray();
        return data;
}

let a = new IdexedDB();
//a.saveDataset("")
let f=a.loadDataset();
console.log(f);
*/
</script>
